{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../clothing.service\";\nimport * as i3 from \"@angular/common\";\nfunction ClothingFormComponent_option_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", category_r1.name, \" \");\n  }\n}\nexport class ClothingFormComponent {\n  constructor(fb, clothingService) {\n    this.fb = fb;\n    this.clothingService = clothingService;\n    this.clothingCategories = [];\n    this.clothingForm = this.fb.group({\n      name: ['', Validators.required],\n      description: [''],\n      image_url: [''],\n      category_id: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.clothingService.getClothingCategories().subscribe({\n      next: categories => {\n        this.clothingCategories = categories;\n      },\n      error: error => {\n        console.error('Erreur lors du chargement des catégories', error);\n      }\n    });\n  }\n  onSubmit() {\n    console.log(\"first\");\n    if (this.clothingForm.valid) {\n      console.log(\"TEST CHIPS\");\n      this.clothingService.addClothingItem(this.clothingForm.value.name, this.clothingForm.value.description, this.clothingForm.value.image_url, this.clothingForm.value.category_id).subscribe({\n        next: response => {\n          console.log('Vêtement ajouté avec succès', response);\n          this.clothingForm.reset();\n        },\n        error: error => {\n          console.error('Erreur lors de l\\'ajout du vêtement', error);\n        }\n      });\n    } else {\n      console.log(\"error : \", this.clothingForm);\n    }\n  }\n  static #_ = this.ɵfac = function ClothingFormComponent_Factory(t) {\n    return new (t || ClothingFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ClothingService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ClothingFormComponent,\n    selectors: [[\"app-clothing-form\"]],\n    decls: 30,\n    vars: 2,\n    consts: [[1, \"box\", 3, \"formGroup\", \"ngSubmit\"], [1, \"field\"], [\"for\", \"name\", 1, \"label\"], [1, \"control\"], [\"id\", \"name\", \"type\", \"text\", \"formControlName\", \"name\", \"placeholder\", \"Nom de l'article\", 1, \"input\"], [\"for\", \"description\", 1, \"label\"], [\"id\", \"description\", \"formControlName\", \"description\", \"placeholder\", \"Description de l'article\", 1, \"textarea\"], [\"for\", \"image_url\", 1, \"label\"], [\"id\", \"image_url\", \"type\", \"text\", \"formControlName\", \"image_url\", \"placeholder\", \"URL de l'image\", 1, \"input\"], [\"for\", \"category\", 1, \"label\"], [1, \"select\", \"is-fullwidth\"], [\"id\", \"category\", \"formControlName\", \"category_id\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"field\", 2, \"display\", \"none\"], [\"type\", \"hidden\", \"formControlName\", \"user_id\", 1, \"input\"], [\"type\", \"submit\", 1, \"button\", \"is-primary\"], [3, \"value\"]],\n    template: function ClothingFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function ClothingFormComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"label\", 2);\n        i0.ɵɵtext(3, \"Nom\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelement(5, \"input\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 1)(7, \"label\", 5);\n        i0.ɵɵtext(8, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 3);\n        i0.ɵɵelement(10, \"textarea\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 1)(12, \"label\", 7);\n        i0.ɵɵtext(13, \"URL de l'image\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 3);\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 1)(17, \"label\", 9);\n        i0.ɵɵtext(18, \"Cat\\u00E9gorie\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 3)(20, \"div\", 10)(21, \"select\", 11);\n        i0.ɵɵtemplate(22, ClothingFormComponent_option_22_Template, 2, 2, \"option\", 12);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(23, \"div\", 13)(24, \"div\", 3);\n        i0.ɵɵelement(25, \"input\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"div\", 1)(27, \"div\", 3)(28, \"button\", 15);\n        i0.ɵɵtext(29, \"Ajouter l'article\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.clothingForm);\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"ngForOf\", ctx.clothingCategories);\n      }\n    },\n    dependencies: [i3.NgForOf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","category_r1","id","ɵɵadvance","ɵɵtextInterpolate1","name","ClothingFormComponent","constructor","fb","clothingService","clothingCategories","clothingForm","group","required","description","image_url","category_id","ngOnInit","getClothingCategories","subscribe","next","categories","error","console","onSubmit","log","valid","addClothingItem","value","response","reset","_","ɵɵdirectiveInject","i1","FormBuilder","i2","ClothingService","_2","selectors","decls","vars","consts","template","ClothingFormComponent_Template","rf","ctx","ɵɵlistener","ClothingFormComponent_Template_form_ngSubmit_0_listener","ɵɵelement","ɵɵtemplate","ClothingFormComponent_option_22_Template"],"sources":["/Users/lorenzochahid/Desktop/frontend/src/app/clothingForm/clothingForm.component.ts","/Users/lorenzochahid/Desktop/frontend/src/app/clothingForm/clothingForm.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { ClothingService } from '../clothing.service';\n\n\n@Component({\n  selector: 'app-clothing-form',\n  templateUrl: './clothingForm.component.html',\n  styleUrls: ['./clothingForm.component.css']\n})\nexport class ClothingFormComponent implements OnInit {\n  clothingForm: FormGroup;\n  clothingCategories: any[] = [];\n\n  constructor(\n    private fb: FormBuilder,\n    private clothingService: ClothingService\n  ) {\n    this.clothingForm = this.fb.group({\n      name: ['', Validators.required],\n      description: [''],\n      image_url: [''],\n      category_id: ['', Validators.required]\n    });\n  }\n\n  ngOnInit(): void {\n    this.clothingService.getClothingCategories().subscribe({\n      next: (categories) => {\n        this.clothingCategories = categories;\n      },\n      error: (error) => {\n        console.error('Erreur lors du chargement des catégories', error);\n      }\n    });\n  }\n\n  onSubmit(): void {\n    console.log(\"first\")\n    if (this.clothingForm.valid) {\n      console.log(\"TEST CHIPS\")\n      this.clothingService.addClothingItem(\n        this.clothingForm.value.name,\n        this.clothingForm.value.description,\n        this.clothingForm.value.image_url,\n        this.clothingForm.value.category_id,\n      ).subscribe({\n        next: (response) => {\n          console.log('Vêtement ajouté avec succès', response);  \n          this.clothingForm.reset();\n        },\n        error: (error) => {\n          console.error('Erreur lors de l\\'ajout du vêtement', error);\n        }\n      });\n    }\n    else{\n\n      console.log(\"error : \", this.clothingForm)\n    }\n  }\n}\n","<form [formGroup]=\"clothingForm\" (ngSubmit)=\"onSubmit()\" class=\"box\">\n\n    <div class=\"field\">\n        <label class=\"label\" for=\"name\">Nom</label>\n        <div class=\"control\">\n            <input class=\"input\" id=\"name\" type=\"text\" formControlName=\"name\" placeholder=\"Nom de l'article\">\n        </div>\n    </div>\n\n    <div class=\"field\">\n        <label class=\"label\" for=\"description\">Description</label>\n        <div class=\"control\">\n            <textarea class=\"textarea\" id=\"description\" formControlName=\"description\"\n                placeholder=\"Description de l'article\"></textarea>\n        </div>\n    </div>\n\n    <div class=\"field\">\n        <label class=\"label\" for=\"image_url\">URL de l'image</label>\n        <div class=\"control\">\n            <input class=\"input\" id=\"image_url\" type=\"text\" formControlName=\"image_url\" placeholder=\"URL de l'image\">\n        </div>\n    </div>\n\n    <div class=\"field\">\n        <label class=\"label\" for=\"category\">Catégorie</label>\n        <div class=\"control\">\n            <div class=\"select is-fullwidth\">\n                <select id=\"category\" formControlName=\"category_id\">\n                    <option *ngFor=\"let category of clothingCategories\" [value]=\"category.id\">{{ category.name }}\n                    </option>\n                </select>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"field\" style=\"display: none;\">\n        <div class=\"control\">\n            <input class=\"input\" type=\"hidden\" formControlName=\"user_id\">\n        </div>\n    </div>\n\n    <div class=\"field\">\n        <div class=\"control\">\n            <button type=\"submit\" class=\"button is-primary\">Ajouter l'article</button>\n        </div>\n    </div>\n</form>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}